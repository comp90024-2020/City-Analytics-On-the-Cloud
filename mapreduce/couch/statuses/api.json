{"_id": "_design/api", "options": {"partitioned": true}, "shows": {}, "views": {"keyword": {"map": "function (doc) {\n    var sp_doc = doc.full_text.match(/\\w+/g).map((s) => s.toLowerCase());\n    var sp = [...new Set(sp_doc)];\n    for (var i = 0; i < sp.length; i++) {\n        emit(sp[i], { text: doc.full_text, url: doc.entities.urls.length > 0 ? doc.entities.urls[0].url : null });\n    }\n}", "reduce": "_count", "partitioned": false}, "doc": {"map": "function (doc) {\n    emit(doc._id, { text: doc.full_text, url: doc.entities.urls.length > 0 ? doc.entities.urls[0].url : null });\n}"}, "sentiment": {"map": "function (doc) {\n  emit(doc.sentiment_scores ? doc.sentiment_scores.sentiment : 'none', 1);\n}", "reduce": "_count"}}, "lists": {}, "indexes": {}}